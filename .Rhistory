title<-paste(proper(vClass),collapse = ' ')
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView('LAB')
grapView('`LAB`')
grapView(`LAB`)
grapView('INTERNAL MEDICINE')
grapView('`INTERNAL MEDICINE`')
grapView('INTERNAL MEDICINE')
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = vClass,summarize,avgIntLength=mean(Interval_Length))
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView('INTERNAL MEDICINE')
grapView("INTERNAL MEDICINE")
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = vClass,summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
grapView<-function(vClass){
return(vClass)
dat<-plyr::ddply(survData_Final,.variables = vClass,summarize,avgIntLength=mean(Interval_Length))
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = paste0('`',vClass,'`'),summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
??evaluate
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = eval('`',vClass,'`'),summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = eval(vClass,),summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
eval(parse(text='1+1'))
eval(parse(paste0('`','INTERNAL MEDICINE','1')))
eval(parse(paste0('`','INTERNAL MEDICINE')))
eval(parse(paste('`','INTERNAL MEDICINE')))
eval((paste('`','INTERNAL MEDICINE')))
eval((paste('`','INTERNAL MEDICINE','`')))
eval((paste('`','INTERNAL MEDICINE',sep='')))
eval((paste('`','INTERNAL MEDICINE','`',sep='')))
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = eval((paste('`','INTERNAL MEDICINE','`',sep=''))),summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = eval(parse((paste('`','INTERNAL MEDICINE','`',sep='')))),summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = eval(parse(text = (paste('`','INTERNAL MEDICINE','`',sep='')))),summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
eval(parse(text='INTERNAL MEDICINE'))
eval(parse(text='`INTERNAL MEDICINE`'))
paste0('`','INTERNAL MEDICINE','`')
eval(parse(text=paste0('`','INTERNAL MEDICINE','`')))
c(eval(parse(text=paste0('`','INTERNAL MEDICINE','`'))))
c(paste0('`','INTERNAL MEDICINE','`'))
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = c(paste('`',vClass,'`')),summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = c(paste0('`',vClass,'`')),summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE")
c(paste0('`','INTERNAL MEDICINE','`'))
eval(parse(text=c(paste0('`','INTERNAL MEDICINE','`'))))
str_replace(c(paste0('`','INTERNAL MEDICINE','`')),pattern = "\"",'')
str_replace(c(paste0('`','INTERNAL MEDICINE','`')),pattern = "/"",'')
""
str_replace(c(paste0('`','INTERNAL MEDICINE','`')),pattern = "\"",'')
internalMed<-lab<-plyr::ddply(survData_Final,.variables = "`INTERNAL MEDICINE`"',summarize,avgIntLength=mean(Interval_Length))
''
internalMed<-lab<-plyr::ddply(survData_Final,.variables = "`INTERNAL MEDICINE`",summarize,avgIntLength=mean(Interval_Length))
internalMed<-lab<-plyr::ddply(survData_Final,.variables = '`INTERNAL MEDICINE`',summarize,avgIntLength=mean(Interval_Length))
internalMed<-plyr::ddply(survData_Final,.variables = '`INTERNAL MEDICINE`',summarize,avgIntLength=mean(Interval_Length))
names(survData_Final)
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = c(paste0('`',vClass,'`')),summarize,avgIntLength=mean(Interval_Length))
return(dat)
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
return(title)
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE CLINIC")
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = c(paste0('`',vClass,'`')),summarize,avgIntLength=mean(Interval_Length))
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # Of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
grapView("INTERNAL MEDICINE CLINIC")
View(corr)
View(corr)
makeGraphs<-function(){
cov<-arrange(corr[1:48,c('Covariate','Interval_Length')],desc(abs(Interval_Length)))
covU<-unique(cov$Covariate)
return(covU)
}
makeGraphs
makeGraphs()
makeGraphs<-function(){
cov<-arrange(corr[1:48,c('Covariate','Interval_Length')],desc(abs(Interval_Length)))
covU<-unique(cov$Covariate)
return(covU)
pdf(file='/Volumes/COLUMBIA/Survival_Analysis/Graphs_Corr.pdf')
for(c in 1:length(covU)){
grapView(covU[c])
}
dev.off()
}
makeGraphs()
makeGraphs<-function(){
cov<-arrange(corr[1:48,c('Covariate','Interval_Length')],desc(abs(Interval_Length)))
covU<-unique(cov$Covariate)
pdf(file='/Volumes/COLUMBIA/Survival_Analysis/Graphs_Corr.pdf')
for(c in 1:length(covU)){
grapView(covU[c])
}
dev.off()
}
makeGraphs()
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = c(paste0('`',vClass,'`')),summarize,avgIntLength=mean(Interval_Length))
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(vClass),collapse = ' ')
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
makeGraphs()
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
proper('INTERNAL MEDICINE')
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = c(paste0('`',vClass,'`')),summarize,avgIntLength=mean(Interval_Length))
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(title),collapse = ' ')
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='# of Days Prior to Re-Admission')
}
makeGraphs<-function(){
cov<-arrange(corr[1:48,c('Covariate','Interval_Length')],desc(abs(Interval_Length)))
covU<-unique(cov$Covariate)
pdf(file='/Volumes/COLUMBIA/Survival_Analysis/Graphs_Corr.pdf')
for(c in 1:length(covU)){
grapView(covU[c])
}
dev.off()
}
makeGraphs()
grapView<-function(vClass){
dat<-plyr::ddply(survData_Final,.variables = c(paste0('`',vClass,'`')),summarize,avgIntLength=mean(Interval_Length))
title<-str_split(vClass,' ')[[1]]
proper<-function(x){
f<-substr(x,1,1)
s<-substr(x,2,nchar(x))
x<-paste(f,tolower(s),sep='')
return(x)
}
title<-paste(proper(title),collapse = ' ')
plot(dat$avgIntLength~dat[[vClass]],type='l',
main=paste('CHF # of Days Prior to Re-Admission \n By # of Visits to', title),
xlab=paste('# of Visits to',title),ylab='Mean # of Days Prior to Re-Admission')
}
makeGraphs()
fit<-coxme(survObj ~ `ADULT MEDICAL-SURGICAL`+`ADULT CRITICAL CARE`+EMERGENCY+
`CHF/HEART TRANSPLANT PRIVATE`+`INTERNAL MEDICINE CLINIC`+`CARDIOLOGY THERAPEUTICS`+
`VASCULAR SURGERY`+`OTHER MEDICAL`+`INTERNAL MEDICINE PRIVATE`+MaritalStatus+
`TRANSPLANT NOT HEART`+`AMBULATORY SURGERY`+ORTHOPEDICS+`SURGERY NON-CARDIAC`+
`CARDIOLOGY PRIVATE`+UROLOGY+Age2+`CT SURGERY`+`CARDIOLOGY CLINIC`+RADIOLOGY+
NEUROLOGY+PULMONOLOGY+`OUTPT THERAPEUTIC SERVICES`+Sex+MISCELLANEOUS +
`ANTI-COAGULATION CLINIC` + (1 | Patient_ID),data=survData_Final)
fit
fit<-coxme(survObj~Sex+Age2+MaritalStatus,data=survData_Final)
fit<-coxme(survObj~Sex+Age2+MaritalStatus,data=survData_Final+(1|Patient_ID))
fit<-coxme(survObj~Sex+Age2+MaritalStatus+(1|Patient_ID),data=survData_Final)
fit
fit<-coxme(survObj~Sex+Age2*MaritalStatus+(1|Patient_ID),data=survData_Final)
fit
fit<-coxme(survObj~Sex+Age2+MaritalStatus+(1|Patient_ID)+`ADULT MEDICAL-SURGICAL`,data=survData_Final)
FIT
fit
rm(list=ls())
setwd('Documents/DataScience/Coursera/Reproductive_Research')
activity<-read.table('./Data/activity.csv',sep=',',header = T,quote="\"",colClasses=c('numeric','Date','numeric'))
require(plyr)
sum(is.na(activity$steps))
activityNoNA<-knnImputation(activity)
require(DMwR)
knnImputation
activityNoNA<-knnImputation(activity)
require(plyr)
dailyActivity<-ddply(activity,'interval',summarise,dailyAvgSteps=mean(steps,na.rm=T))
View(dailyActivity)
as.integer(3.8)
activity[is.na(activity$steps),]
activity[is.na(activity$steps),]
View(activity)
subset(dailyActivity,interval %in% activity[is.na(activity$steps),'interval'])
View(dailyActivity)
merge(activity[is.na(activity$steps),'interval'],dailyActivity,by='interval')[,'dailyAvgSteps']
merge(activity[is.na(activity$steps),'interval'],dailyActivity,by = 'interval')[,'dailyAvgSteps']
merge(activity[is.na(activity$steps),'interval'],dailyActivity,by.x = 'interval',by.y='interval')[,'dailyAvgSteps']
activity[is.na(activity$steps),'interval']
merge(activity[is.na(activity$steps),'interval',drop=F],dailyActivity,by='interval')[,'dailyAvgSteps']
na<-merge(activity[is.na(activity$steps),'interval',drop=F],dailyActivity,by='interval')[,'dailyAvgSteps']
length(na)
activity[is.na(activity$steps),'steps']<-merge(activity[is.na(activity$steps),'interval',drop=F],
dailyActivity,by='interval')[,'dailyAvgSteps']
View(activity)
activity<-read.table('./Data/activity.csv',sep=',',header = T,quote="\"",colClasses=c('numeric','Date','numeric'))
activity[is.na(activity$steps),'steps']<-as.integer(merge(activity[is.na(activity$steps),'interval',drop=F],
dailyActivity,by='interval')[,'dailyAvgSteps'])
View(activity)
View(dailyActivity)
activity[is.na(activity$steps),'steps']<-round(merge(activity[is.na(activity$steps),'interval',drop=F],
dailyActivity,by='interval')[,'dailyAvgSteps'],0)
View(activity)
View(dailyActivity)
View(dailyActivity)
activity<-read.table('./Data/activity.csv',sep=',',header = T,quote="\"",colClasses=c('numeric','Date','numeric'))
dailyActivity<-ddply(activity,'interval',summarise,dailyAvgSteps=mean(steps,na.rm=T))
activity<-read.table('./Data/activity.csv',sep=',',header = T,quote="\"",colClasses=c('numeric','Date','numeric'))
View(activity)
activityNA<-activity[is.na(activity$steps),]
View(activityNA)
activityNA$steps<-round(merge(activityNA[,'interval',drop=F],
dailyActivity,by='interval')[,'dailyAvgSteps'],0)
View(activityNA)
View(dailyActivity)
View(dailyActivity)
repNA<-merge(activityNA[,'interval',drop=F],
dailyActivity,by='interval')
View(repNA)
repNA<-merge(activityNA,
dailyActivity,by='interval')
View(repNA)
repNA<-arrange(merge(activityNA,
dailyActivity,by='interval'),date,interval)
View(repNA)
activityNA<-activity[is.na(activity$steps),]
repNA<-arrange(merge(activityNA,
dailyActivity,by='interval'),date,interval)
View(repNA)
activityNA$steps<-round(arrange(merge(activityNA[,'interval',drop=F],
dailyActivity,by='interval'),date,interval),0)[,'dailyAvgSteps']
activityNA$steps<-round(arrange(merge(activityNA[,'interval',drop=F],
dailyActivity,by='interval'),date,interval)[,'dailyAvgSteps'],0)
activityNA$steps<-round(arrange(merge(activityNA,dailyActivity,by='interval')
,date,interval)[,'dailyAvgSteps'],0)
View(activityNA)
activityNoNA<-rbind(na.omit(activity),activityNA)
activityNoNA<-arrange(rbind(na.omit(activity),activityNA),date,interval)
View(activityNoNA)
totalSteps<-ddply(activity,'date',summarise,stepsPerDay=sum(steps,na.rm=T))
summary(totalSteps$stepsPerDay)[c('Median','Mean')]
mean(totalSteps,na.rm = T)
mean(totalSteps$stepsPerDay,na.rm = T)
median(totalSteps$stepsPerDay,na.rm = T)
median(totalSteps$stepsPerDay)
View(totalSteps)
median(totalSteps$stepsPerDay)
median(totalSteps$stepsPerDay,na.rm = T)
mean(totalSteps$stepsPerDay,na.rm = T)
mean(totalSteps$stepsPerDay)
summary(totalSteps$stepsPerDay)[c('Median','Mean')]
totalStepsNoNA<-ddply(activityNoNA,'date',summarise,stepsPerDay=sum(steps,na.rm=T))
hist(totalStepsNoNA$stepsPerDay,breaks = 20,col='red',
main='Total number of steps taken each day',xlab='Steps taken each day')
summary(totalStepsNoNA$stepsPerDay)[c('Median','Mean')]
summary(totalSteps$stepsPerDay)[c('Median','Mean')]
?weekdays
install.packages('timeDate')
require(timeDay)
require(timeDate)
activityNoNA$dayType<-isWeekday(activity$date)
View(activityNoNA)
activityNoNA$dayType<-as.factor(isWeekday(activity$date),labels=c('weekday','weekend'))
activityNoNA$dayType<-factor(isWeekday(activity$date),labels=c('weekday','weekend'))
View(activityNoNA)
activityNoNA$dayType<-factor(isWeekday(activity$date),labels=c('weekend','weekday'))
View(activityNoNA)
weekdays(activityNoNA$date[1])
dayTypeActivity<-ddply(activityNoNA,c('interval','dayType'),summarise,dailyAvgSteps=mean(steps))
View(dayTypeActivity)
??lattice
require(ggplot2)
ggplot(dayTypeActivity,aes(x=interval,y=dailyAvgSteps)) + geom_line()
ggplot(dayTypeActivity,aes(x=interval,y=dailyAvgSteps)) + geom_line() + facet_grid(dayType~.)
ggplot(dayTypeActivity,aes(x=interval,y=dailyAvgSteps)) + geom_line() + facet_grid(.~dayType)
ggplot(dayTypeActivity,aes(x=interval,y=dailyAvgSteps)) + geom_line() + facet_grid(.~dayType) +
theme_bw()
?theme
?labs
ggplot(dayTypeActivity,aes(x=interval,y=dailyAvgSteps)) + geom_line() + facet_grid(.~dayType) +
theme_bw() + labs(x='5 min interval',y='Avg. # of septs taken',
title='Time Serie of 5-minute interval \n and average number of steps taken')
ggplot(dayTypeActivity,aes(x=interval,y=dailyAvgSteps)) + geom_line(colour='red') + facet_grid(.~dayType) +
theme_bw() + labs(x='5 min interval',y='Avg. # of septs taken',
title='Time Serie of 5-minute interval \n and average number of steps taken')
installed.packages()
install.packages('slidify')
install.packages('xtable')
setwd('Documents/DataScience/Coursera/Reproductive_Research/Project1')
setwd('~')
setwd('Documents/DataScience/Coursera/Reproductive_Research/Project1')
unzip('activity.zip')
unzip('activity.zip')
summary(totalStepsNoNA$stepsPerDay)[c('Median','Mean')]
rm(list=ls())
activity<-read.table('./Data/activity.csv',sep=',',header = T,quote="\"",colClasses=c('numeric','Date','numeric'))
activity<-read.table('activity.csv',sep=',',header = T,quote="\"",colClasses=c('numeric','Date','numeric'))
require(plyr)
totalSteps<-ddply(activity,'date',summarise,stepsPerDay=sum(steps,na.rm=T))
summary(totalSteps$stepsPerDay)[c('Median','Mean')]
dailyActivity<-ddply(activity,'interval',summarise,dailyAvgSteps=mean(steps,na.rm=T))
activityNA<-activity[is.na(activity$steps),]
activityNA$steps<-round(arrange(merge(activityNA,dailyActivity,by='interval')
,date,interval)[,'dailyAvgSteps'],0)
activityNoNA<-arrange(rbind(na.omit(activity),activityNA),date,interval)
totalStepsNoNA<-ddply(activityNoNA,'date',summarise,stepsPerDay=sum(steps,na.rm=T))
summary(totalStepsNoNA$stepsPerDay)[c('Median','Mean')]
centrality<-c(Mean=mean(totalSteps$stepsPerDay,Median=median(totalSteps$stepsPerDay)))
centrality
centrality<-c(mean(totalSteps$stepsPerDay,median(totalSteps$stepsPerDay)))
centrality
centrality<-c(Mean=mean(totalSteps$stepsPerDay),Median=median(totalSteps$stepsPerDay))
centrality
print(centrality)
